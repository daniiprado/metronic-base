webpackJsonp([4],{155:function(t,e,n){t.exports={default:n(166),__esModule:!0}},156:function(t,e,n){"use strict";e.__esModule=!0;var o,a=n(162),i=(o=a)&&o.__esModule?o:{default:o};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},157:function(t,e,n){"use strict";e.__esModule=!0;var o=s(n(179)),a=s(n(183)),i=s(n(162));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},158:function(t,e,n){e.f=n(3)},159:function(t,e,n){var o=n(0),a=n(2),i=n(19),s=n(158),r=n(9).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:s.f(t)})}},160:function(t,e){e.f={}.propertyIsEnumerable},161:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var o=n(155),a=n.n(o),i=n(28),s=n.n(i),r=n(29),l=n.n(r),c=n(156),u=n.n(c),f=n(157),p=n.n(f),m=function(t){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s()(this,e);var i=u()(this,(e.__proto__||a()(e)).call(this,n,o));return i.url=t,i}return p()(e,t),l()(e,[{key:"index",value:function(){return this.get(this.url)}},{key:"show",value:function(t){return this.get(this.url+"/"+t)}},{key:"store",value:function(){return this.post(this.url)}},{key:"update",value:function(t){return this.put(this.url+"/"+t)}},{key:"destroy",value:function(t){return this.delete(this.url+"/"+t)}}]),e}(n(61).a)},162:function(t,e,n){"use strict";e.__esModule=!0;var o=s(n(168)),a=s(n(170)),i="function"==typeof a.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof a.default&&"symbol"===i(o.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":i(t)}},163:function(t,e){e.f=Object.getOwnPropertySymbols},164:function(t,e,n){var o=n(63),a=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,a)}},165:function(t,e,n){var o=n(160),a=n(30),i=n(17),s=n(59),r=n(12),l=n(62),c=Object.getOwnPropertyDescriptor;e.f=n(6)?c:function(t,e){if(t=i(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(r(t,e))return a(!o.f.call(t,e),t[e])}},166:function(t,e,n){n(167),t.exports=n(2).Object.getPrototypeOf},167:function(t,e,n){var o=n(35),a=n(67);n(69)("getPrototypeOf",function(){return function(t){return a(o(t))}})},168:function(t,e,n){t.exports={default:n(169),__esModule:!0}},169:function(t,e,n){n(65),n(68),t.exports=n(158).f("iterator")},170:function(t,e,n){t.exports={default:n(171),__esModule:!0}},171:function(t,e,n){n(172),n(64),n(177),n(178),t.exports=n(2).Symbol},172:function(t,e,n){"use strict";var o=n(0),a=n(12),i=n(6),s=n(4),r=n(66),l=n(173).KEY,c=n(18),u=n(33),f=n(20),p=n(32),m=n(3),d=n(158),_=n(159),v=n(174),h=n(175),g=n(5),b=n(10),y=n(17),x=n(59),C=n(30),k=n(60),O=n(176),P=n(165),S=n(9),w=n(31),E=P.f,D=S.f,j=O.f,A=o.Symbol,R=o.JSON,T=R&&R.stringify,F=m("_hidden"),N=m("toPrimitive"),$={}.propertyIsEnumerable,M=u("symbol-registry"),I=u("symbols"),U=u("op-symbols"),L=Object.prototype,Y="function"==typeof A,q=o.QObject,z=!q||!q.prototype||!q.prototype.findChild,J=i&&c(function(){return 7!=k(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=E(L,e);o&&delete L[e],D(t,e,n),o&&t!==L&&D(L,e,o)}:D,H=function(t){var e=I[t]=k(A.prototype);return e._k=t,e},B=Y&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},K=function(t,e,n){return t===L&&K(U,e,n),g(t),e=x(e,!0),g(n),a(I,e)?(n.enumerable?(a(t,F)&&t[F][e]&&(t[F][e]=!1),n=k(n,{enumerable:C(0,!1)})):(a(t,F)||D(t,F,C(1,{})),t[F][e]=!0),J(t,e,n)):D(t,e,n)},V=function(t,e){g(t);for(var n,o=v(e=y(e)),a=0,i=o.length;i>a;)K(t,n=o[a++],e[n]);return t},W=function(t){var e=$.call(this,t=x(t,!0));return!(this===L&&a(I,t)&&!a(U,t))&&(!(e||!a(this,t)||!a(I,t)||a(this,F)&&this[F][t])||e)},G=function(t,e){if(t=y(t),e=x(e,!0),t!==L||!a(I,e)||a(U,e)){var n=E(t,e);return!n||!a(I,e)||a(t,F)&&t[F][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=j(y(t)),o=[],i=0;n.length>i;)a(I,e=n[i++])||e==F||e==l||o.push(e);return o},X=function(t){for(var e,n=t===L,o=j(n?U:y(t)),i=[],s=0;o.length>s;)!a(I,e=o[s++])||n&&!a(L,e)||i.push(I[e]);return i};Y||(r((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(U,n),a(this,F)&&a(this[F],t)&&(this[F][t]=!1),J(this,t,C(1,n))};return i&&z&&J(L,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),P.f=G,S.f=K,n(164).f=O.f=Q,n(160).f=W,n(163).f=X,i&&!n(19)&&r(L,"propertyIsEnumerable",W,!0),d.f=function(t){return H(m(t))}),s(s.G+s.W+s.F*!Y,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)m(Z[tt++]);for(var et=w(m.store),nt=0;et.length>nt;)_(et[nt++]);s(s.S+s.F*!Y,"Symbol",{for:function(t){return a(M,t+="")?M[t]:M[t]=A(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!Y,"Object",{create:function(t,e){return void 0===e?k(t):V(k(t),e)},defineProperty:K,defineProperties:V,getOwnPropertyDescriptor:G,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),R&&s(s.S+s.F*(!Y||c(function(){var t=A();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],a=1;arguments.length>a;)o.push(arguments[a++]);if(n=e=o[1],(b(e)||void 0!==t)&&!B(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!B(e))return e}),o[1]=e,T.apply(R,o)}}),A.prototype[N]||n(8)(A.prototype,N,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},173:function(t,e,n){var o=n(32)("meta"),a=n(10),i=n(12),s=n(9).f,r=0,l=Object.isExtensible||function(){return!0},c=!n(18)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,o,{value:{i:"O"+ ++r,w:{}}})},f=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[o].i},getWeak:function(t,e){if(!i(t,o)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[o].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!i(t,o)&&u(t),t}}},174:function(t,e,n){var o=n(31),a=n(163),i=n(160);t.exports=function(t){var e=o(t),n=a.f;if(n)for(var s,r=n(t),l=i.f,c=0;r.length>c;)l.call(t,s=r[c++])&&e.push(s);return e}},175:function(t,e,n){var o=n(14);t.exports=Array.isArray||function(t){return"Array"==o(t)}},176:function(t,e,n){var o=n(17),a=n(164).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return a(t)}catch(t){return s.slice()}}(t):a(o(t))}},177:function(t,e,n){n(159)("asyncIterator")},178:function(t,e,n){n(159)("observable")},179:function(t,e,n){t.exports={default:n(180),__esModule:!0}},180:function(t,e,n){n(181),t.exports=n(2).Object.setPrototypeOf},181:function(t,e,n){var o=n(4);o(o.S,"Object",{setPrototypeOf:n(182).set})},182:function(t,e,n){var o=n(10),a=n(5),i=function(t,e){if(a(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=n(13)(Function.call,n(165).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},183:function(t,e,n){t.exports={default:n(184),__esModule:!0}},184:function(t,e,n){n(185);var o=n(2).Object;t.exports=function(t,e){return o.create(t,e)}},185:function(t,e,n){var o=n(4);o(o.S,"Object",{create:n(60)})},315:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var o=n(155),a=n.n(o),i=n(28),s=n.n(i),r=n(29),l=n.n(r),c=n(156),u=n.n(c),f=n(157),p=n.n(f),m=n(161),d=n(16),_=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()(this,e),u()(this,(e.__proto__||a()(e)).call(this,d.a.END_POINTS.SECURITY.MODULES.ROOT,t,n))}return p()(e,t),l()(e,[{key:"datatable",value:function(){return this.get(d.a.END_POINTS.SECURITY.MODULES.DATATABLE)}},{key:"permissions",value:function(){return this.get(d.a.END_POINTS.SECURITY.MODULES.PERMISSIONS)}}]),e}(m.a)},323:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var o=n(155),a=n.n(o),i=n(28),s=n.n(i),r=n(156),l=n.n(r),c=n(157),u=n.n(c),f=n(161),p=n(16),m=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()(this,e),l()(this,(e.__proto__||a()(e)).call(this,p.a.END_POINTS.SECURITY.ROLES.ROOT,t,n))}return u()(e,t),e}(f.a)},376:function(t,e,n){var o=n(377);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(56)("959b994c",o,!0,{})},377:function(t,e,n){(t.exports=n(55)(!1)).push([t.i,"",""])},378:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(323),a=n(16),i=n(58),s=n.n(i);e.default={name:"Roles",data:function(){return{lang:lang,selected:[],portlet:null,form:new o.a({name:null,display_name:null,description:null}),datatable:null,options:{ajax:{url:a.a.END_POINTS.SECURITY.ROLES.DATATABLE},columns:[{data:"id",name:"id",width:"5%"},{data:"name",name:"name",title:lang.get("validation.attributes.name").capitalize(),sortable:!0,filterable:!0,width:"20%"},{data:"display_name",name:"display_name",title:lang.get("validation.attributes.display_name").capitalize(),sortable:!0,filterable:!0,width:"20%"},{data:"description",name:"description",title:lang.get("validation.attributes.description").capitalize(),sortable:!0,filterable:!0,width:"20%"}],buttons:[{extend:"print",exportOptions:{columns:[1,2,3]}},{extend:"copyHtml5",exportOptions:{columns:[1,2,3]}},{extend:"excelHtml5",exportOptions:{columns:[1,2,3]}},{extend:"csvHtml5",exportOptions:{columns:[1,2,3]}},{extend:"pdfHtml5",orientation:"portrait",pageSize:"LETTER",exportOptions:{columns:[1,2,3]}}]}}},methods:{onPortlet:function(t){this.portlet=t,null!==this.portlet&&this.onReload()},onReload:function(){var t=this;this.portlet.on("reload",function(){t.selected=[],t.datatable.ajax.reload(!1)})},onDatatable:function(t){this.datatable=t},onPDF:function(){this.datatable.button(4).trigger()},onCSV:function(){this.datatable.button(3).trigger()},onExcel:function(){this.datatable.button(2).trigger()},onCopy:function(){this.datatable.button(1).trigger()},onPrint:function(){this.datatable.button(0).trigger()},onDelete:function(){var t=this,e=this,n=this.lang.choice("pages.messages.comfirm_delete",this.selected.length,{quantity:this.selected.length});s()({title:this.lang.get("pages.messages.warning"),text:n,type:"warning",showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:function(){e.selected.map(function(t){e.form.destroy(t.id).then(function(t){e.datatable.ajax.reload(!1),console.log(t.message)}).catch(function(t){s()(t.error,{type:"success"})})})},allowOutsideClick:function(){return!s.a.isLoading()}}).then(function(n){e.datatable.ajax.reload(!1),e.selected=[],n.value&&s()({title:t.lang.get("pages.messages.success"),text:t.lang.get("pages.responses.deleted"),type:"success"})})},onEdit:function(){},onAttach:function(){this.$router.push({name:"roles.permissions",params:{id:this.selected[0].id}})}},beforeDestroy:function(){this.datatable.destroy(),this.selected=[],this.portlet=null,this.datatable=null}}},379:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable-row",[n("div",{staticClass:"col-lg-12"},[n("portlet",{attrs:{id:"m_portlet_tools_modules",title:t.lang.choice("pages.roles.title",2)},on:{onPortlet:t.onPortlet}},[n("template",{slot:"actions"},[1===t.selected.length&&t.$auth.can("attach-permissions")?n("action-item",[n("a",{staticClass:"m-portlet__nav-link btn btn-secondary m-btn m-btn--icon m-btn--icon-only m-btn--pill",attrs:{href:"javascript:;","data-skin":"light","data-toggle":"m-tooltip","data-placement":"top",title:"","data-original-title":t.lang.get("pages.buttons.attach_perm")},on:{click:function(e){return e.preventDefault(),t.onAttach(e)}}},[n("i",{staticClass:"la la-user-secret"})])]):t._e(),t._v(" "),1===t.selected.length&&t.$auth.can("edit-roles")?n("action-item",[n("a",{staticClass:"m-portlet__nav-link btn btn-secondary m-btn m-btn--icon m-btn--icon-only m-btn--pill",attrs:{href:"javascript:;","data-skin":"light","data-toggle":"m-tooltip","data-placement":"top",title:"","data-original-title":t.lang.get("pages.buttons.edit")},on:{click:function(e){return e.preventDefault(),t.onEdit(e)}}},[n("i",{staticClass:"la la-pencil"})])]):t._e(),t._v(" "),t.selected.length>0&&t.$auth.can("delete-roles")?n("action-item",[n("a",{staticClass:"m-portlet__nav-link btn btn-secondary m-btn m-btn--icon m-btn--icon-only m-btn--pill",attrs:{href:"javascript:;","data-skin":"light","data-toggle":"m-tooltip","data-placement":"top",title:"","data-original-title":t.lang.get("pages.buttons.delete")},on:{click:function(e){return e.preventDefault(),t.onDelete(e)}}},[n("i",{staticClass:"la la-trash"})])]):t._e(),t._v(" "),n("portlet-dropdown-actions",[t._v("\n                    "+t._s(t.lang.get("pages.buttons.export_tools"))+"\n                    "),n("template",{slot:"items"},[t.$auth.can("create-roles")?n("li",{staticClass:"m-nav__item"},[n("router-link",{staticClass:"m-nav__link",attrs:{to:{name:"roles.create"}}},[n("i",{staticClass:"m-nav__link-icon la la-plus-circle"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.add"))}},[t._v("Create")])])],1):t._e(),t._v(" "),1===t.selected.length&&t.$auth.can("edit-roles")?n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[n("i",{staticClass:"m-nav__link-icon la la-pencil"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.edit"))},on:{click:function(e){return e.preventDefault(),t.onEdit(e)}}},[t._v("Edit")])])]):t._e(),t._v(" "),t.selected.length>0&&t.$auth.can("delete-roles")?n("li",{staticClass:"m-nav__item",on:{click:function(e){return e.preventDefault(),t.onDelete(e)}}},[n("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[n("i",{staticClass:"m-nav__link-icon la la-trash"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.delete"))}},[t._v("Delete")])])]):t._e(),t._v(" "),n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#",id:"export_print"},on:{click:function(e){return e.preventDefault(),t.onPrint(e)}}},[n("i",{staticClass:"m-nav__link-icon la la-print"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.print"))}},[t._v("Print")])])]),t._v(" "),n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#",id:"export_copy"},on:{click:function(e){return e.preventDefault(),t.onCopy(e)}}},[n("i",{staticClass:"m-nav__link-icon la la-copy"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.copy"))}},[t._v("Copy")])])]),t._v(" "),n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#",id:"export_excel"},on:{click:function(e){return e.preventDefault(),t.onExcel(e)}}},[n("i",{staticClass:"m-nav__link-icon la la-file-excel-o"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.excel"))}},[t._v("Excel")])])]),t._v(" "),n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#",id:"export_csv"},on:{click:function(e){return e.preventDefault(),t.onCSV(e)}}},[n("i",{staticClass:"m-nav__link-icon la la-file-text-o"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.csv"))}},[t._v("CSV")])])]),t._v(" "),n("li",{staticClass:"m-nav__item"},[n("a",{staticClass:"m-nav__link",attrs:{href:"#",id:"export_pdf"},on:{click:function(e){return e.preventDefault(),t.onPDF(e)}}},[n("i",{staticClass:"m-nav__link-icon la la-file-pdf-o"}),t._v(" "),n("span",{staticClass:"m-nav__link-text",domProps:{textContent:t._s(t.lang.get("pages.buttons.pdf"))}},[t._v("PDF")])])])])],2)],1),t._v(" "),n("data-table",{attrs:{id:"m_datatable_countries",options:t.options},on:{onDatatable:t.onDatatable},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],2)],1),t._v(" "),n("div",{staticClass:"col-lg-12"},[n("empty-portlet")],1)])},staticRenderFns:[]}},380:function(t,e,n){var o=n(381);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(56)("69cc73d1",o,!0,{})},381:function(t,e,n){(t.exports=n(55)(!1)).push([t.i,"",""])},382:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(323),a=n(58),i=n.n(a);e.default={name:"CreateUser",data:function(){return{lang:lang,loading:!1,portlet_form:null,form:new o.a({name:null,display_name:null,description:null})}},mounted:function(){mApp.initTooltips()},methods:{onPortletForm:function(t){this.portlet_form=t,null!==this.portlet_form&&(this.onReloadForm(),this.onRemoveForm())},onReloadForm:function(){var t=this;this.portlet_form.on("reload",function(e){t.form.reset(),t.errors.clear()})},onRemoveForm:function(){var t=this;this.portlet_form.on("beforeRemove",function(e){t.$router.push({name:"roles"})})},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.loading=!0,mApp.blockPage(),t.form.store().then(function(e){t.loading=!1,mApp.unblockPage(),i()({type:"success",title:t.lang.get("pages.messages.success"),text:e.message})}).catch(function(e){t.loading=!1,mApp.unblockPage(),i()({title:t.lang.get("pages.messages.error"),text:e.message,type:"error"}).then(function(){mUtil.scrollTop()})}))})}}}},383:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable-row",[n("div",{staticClass:"col-lg-6 offset-lg-3"},[n("portlet-form",{attrs:{id:"m_portlet_tools_form",title:t.lang.choice("pages.roles.title",0,{prefix:t.lang.get("pages.buttons.create")})},on:{onPortletForm:t.onPortletForm}},[n("template",{slot:"actions"},[n("action-item",[n("portlet-tool",{attrs:{tool:"remove"}})],1)],1),t._v(" "),n("form",{staticClass:"m-form m-form--fit m-form--label-align-right",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"m-portlet__body"},[n("portlet-input",{attrs:{value:t.form.name,"has-errors":t.form.errors,validation:"required|alpha|min:3|max:30",name:"name","input-attrs":{minlength:3,maxlength:30,required:!0,autocomplete:"off"}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"==typeof e?e.trim():e)},expression:"form.name"}}),t._v(" "),n("portlet-input",{attrs:{value:t.form.display_name,"has-errors":t.form.errors,validation:"required|alpha_spaces|min:3|max:60",name:"display_name","input-attrs":{minlength:3,maxlength:30,required:!0,autocomplete:"off"}},model:{value:t.form.display_name,callback:function(e){t.$set(t.form,"display_name",e)},expression:"form.display_name"}}),t._v(" "),n("portlet-input",{attrs:{value:t.form.description,"has-errors":t.form.errors,validation:"required|alpha_spaces|min:3|max:191",name:"description","input-attrs":{minlength:6,maxlength:191,required:!0,autocomplete:"off"}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("div",{staticClass:"m-portlet__foot m-portlet__foot--fit"},[n("div",{staticClass:"m-form__actions"},[n("portlet-submit",{attrs:{loadiing:t.loading,form:t.form}}),t._v(" "),n("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"}},[t._v("Cancel")])],1)])])],2)],1)])},staticRenderFns:[]}},384:function(t,e,n){var o=n(385);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(56)("b46e99c0",o,!0,{})},385:function(t,e,n){(t.exports=n(55)(!1)).push([t.i,"",""])},386:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(155),a=n.n(o),i=n(28),s=n.n(i),r=n(156),l=n.n(r),c=n(157),u=n.n(c),f=n(161),p=n(16),m=function(t){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s()(this,e),l()(this,(e.__proto__||a()(e)).call(this,p.a.END_POINTS.SECURITY.ROLE_PERMISSIONS(t,o),n,i))}return u()(e,t),e}(f.a),d=n(315),_=n(58),v=n.n(_);e.default={name:"AttachPermissions",data:function(){return{lang:lang,form:{},rol_name:null,description:null,loading:!1,modules:new d.a({}),permissions:[]}},created:function(){this.setPermissions()},mounted:function(){this.getPermissions(),mApp.initTooltips()},methods:{onPortletForm:function(t){this.portlet_form=t,null!==this.portlet_form&&(this.onReloadForm(),this.onRemoveForm())},onReloadForm:function(){var t=this;this.portlet_form.on("reload",function(e){t.form.reset(),t.errors.clear()})},onRemoveForm:function(){var t=this;this.portlet_form.on("beforeRemove",function(e){t.$router.push({name:"companies"})})},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(mApp.blockPage(),t.form.store(t.$route.params.id).then(function(e){t.loading=!0,mApp.unblockPage(),v()({type:"success",title:t.lang.get("pages.messages.success"),text:e.message}).then(function(){t.loading=!1,t.$router.push({name:"roles"})})}).catch(function(e){t.loading=!1,mApp.unblockPage(),v()({title:t.lang.get("pages.messages.error"),text:e.message,type:"error"}).then(function(){mUtil.scrollTop()})}))})},setPermissions:function(){var t=this;mApp.blockPage(),this.form=new m(this.$route.params.id,{permissions:[]}),this.form.index(this.$route.params.id).then(function(e){t.rol_name=e.data.display_name,t.description=e.data.description,t.form.permissions=e.data.permissions.map(function(t){return{id:t.id}})}).then(function(){mApp.unblockPage()}).catch(function(t){mApp.unblockPage(),console.log(t)})},getPermissions:function(){var t=this;this.modules.permissions().then(function(e){t.permissions=e.data.map(function(t){return{module:t.name,perms:t.permissions}})})},checked:function(t){return this.form.permissions?-1!==this.form.permissions.indexOf(t):null}}}},387:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"m-portlet m-portlet--tabs"},[n("div",{staticClass:"m-portlet__head"},[n("div",{staticClass:"m-portlet__head-caption"},[n("div",{staticClass:"m-portlet__head-title"},[n("h3",{staticClass:"m-portlet__head-text"},[t._v("\n                            "+t._s(t.lang.get("pages.attach.title",{role:t.rol_name}))+"\n                            "),n("small",[t._v(" "+t._s(t.description)+" ")])])])]),t._v(" "),n("div",{staticClass:"m-portlet__head-tools"},[n("ul",{staticClass:"nav nav-tabs m-tabs m-tabs-line   m-tabs-line--right m-tabs-line-danger",attrs:{role:"tablist"}},[n("li",{staticClass:"nav-item m-tabs__item"},[n("a",{staticClass:"nav-link m-tabs__link active",attrs:{"data-toggle":"tab",href:"#m_portlet_tab_1_1",role:"tab"},on:{click:t.onSubmit}},[t._v("\n                                Asignar Permisos\n                            ")])])])])]),t._v(" "),n("div",{staticClass:"m-portlet__body"},[n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-pane active",attrs:{id:"m_portlet_tab_1_1"}},[n("div",{staticClass:"row"},t._l(t.permissions,function(e){return n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"m-section"},[n("span",{staticClass:"m-section__sub"},[t._v("\n                                Module: "+t._s(e.module)+"\n                            ")]),t._v(" "),n("div",{staticClass:"m-section__content"},[n("div",{staticClass:"m-demo",attrs:{"data-code-preview":"true","data-code-html":"true","data-code-js":"false"}},[n("div",{staticClass:"m-demo__preview"},[n("form",{staticClass:"m-form"},t._l(e.perms,function(e){return n("div",{key:e.id,staticClass:"m-form__group form-group row"},[n("label",{staticClass:"col-6 col-form-label"},[t._v(t._s(e.display_name))]),t._v(" "),n("div",{staticClass:"col-6"},[n("span",{staticClass:"m-switch m-switch--icon"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.permissions,expression:"form.permissions"}],attrs:{type:"checkbox"},domProps:{checked:t.checked(e.id),value:{id:e.id},checked:Array.isArray(t.form.permissions)?t._i(t.form.permissions,{id:e.id})>-1:t.form.permissions},on:{change:function(n){var o=t.form.permissions,a=n.target,i=!!a.checked;if(Array.isArray(o)){var s={id:e.id},r=t._i(o,s);a.checked?r<0&&t.$set(t.form,"permissions",o.concat([s])):r>-1&&t.$set(t.form,"permissions",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.form,"permissions",i)}}}),t._v(" "),n("span")])])])])}))])])])])])}))])])])])])])},staticRenderFns:[]}},673:function(t,e,n){var o=n(57)(n(378),n(379),!1,function(t){n(376)},"data-v-52a7a55a",null);t.exports=o.exports},674:function(t,e,n){var o=n(57)(n(382),n(383),!1,function(t){n(380)},"data-v-0516690a",null);t.exports=o.exports},675:function(t,e,n){var o=n(57)(n(386),n(387),!1,function(t){n(384)},"data-v-11bb234d",null);t.exports=o.exports}});